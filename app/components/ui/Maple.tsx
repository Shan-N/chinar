'use client';
import { motion } from "framer-motion";
import { useEffect, useState } from "react";

type LeafProps = {
  delay: number;
  xStart: number;
  xDrift: number;
  duration: number;
  size: string;
  rotateSpeed: number;
};

const Leaf = ({ delay, xStart, xDrift, duration, size, rotateSpeed }: LeafProps) => {
  const initialY = `${Math.random() * 120 - 10}%`; 
  return (
    <motion.svg
      xmlns="http://www.w3.org/2000/svg" 
      width="215.948" 
      height="220.36" 
      viewBox="0 0 215.948 220.36"  
      className="text-[#bd0a0ac9]"
      style={{
        position: "absolute",
        top: "-10%",
        left: `${xStart}%`,
        width: size,
        pointerEvents: "none",
      }}
      initial={{ y: initialY, rotate: rotateSpeed * 180 }}
      animate={{
        y: "200%",
        x: [`${xStart}%`, `${xStart + xDrift}%`],
        rotate: 360 * rotateSpeed,
      }}
      transition={{
        duration,
        ease: "linear",
        repeat: Infinity,
        delay,
      }}
    >
    <g id="a" data-name="Layer 1"/>
    <g id="b" data-name="Layer 2">
    <g id="c" data-name="Vector layer">
      <g>
        <path d="M215.278,90.102c-.445-.812-1.355-.898-2.117-.531-2.871,.898-5.727,1.789-8.703,2.324-16.504,2.426-9.816-7.332-13.945-9.773-.496-.055-.855,.434-1.156,.742-2.059,2.07-4.055,4.723-7.262,5.227-9.387,.504-9.375-5.746-10.051-12.777-.078-1.395-1.52-4.949-3.355-3.586-2.039,2.629-3.73,5.527-6.051,7.945-6.812,7.16-21.23,5.613-16.848-6.66,2.086-6.297,7.508-10.953,13.168-14.285,1.828-.891,3.773-1.801,5.816-2.137,.285,.008,.645-.113,.926-.477,1.051-1.867,.039-4.512-1.484-5.934-.984-.863-2.324-1.066-3.57-1.344-3.105-.867-6.629-1.613-9.086-4.059-1.844-3.676,.129-8.055,2.438-11.043,1.109-.914,1.508-2.285,.895-3.633-.453-1.48-1.816-2.512-3.418-2.203-15.66,.273-16.629-14.617-14.02-26.047,.02-.758-.555-2.156-1.52-1.793l-.015,.016c-.282,0-.573,.175-.834,.621-2.707,5.125-5.18,10.945-10.496,14.027-4.117,1.918-9.305,2.156-13.406-.172-1.672-1.023-3.117-.562-3.328,1.398-.922,3.59-.332,9.781-5.059,10.859-3.328,.367-6.77,.027-9.984-.973-1.668-.484-3.238-1.574-4.996-1.59-3.492,.906-.938,9.168-.758,11.848,.965,6.434,2.918,16.867-2.676,21.535-6.309,2.441-11.18-.688-11.215-7.363-.355-3.426-.25-6.879-.469-10.312-.16-1.98-1.5-5.445-4.109-4.59-3.723,1.789-7.34,6.309-11.863,5.547-3.984-1.668-2.441-6.766-2.988-10.055-.16-1.199-1.172-2.246-2.379-1.535-3.27,1.789-7.105,4-11.016,2.664-4.391-1.766-7.234-5.746-10.402-9.016-5.402-4.672-.738,11.242-.844,13.539,1.398,8.785-2.434,10.465-10.801,10.488-3.344-.492-2.781,2.637-2.227,4.738,1.379,5.207,3.57,10.336,3.879,15.73-.191,5.562-7.562,6.125-11.879,7.246-.816,.121-1.844,.125-2.234,.969-.516,1.398,.066,3.121,1.035,4.234,1.879,1.762,4.617,2.184,6.766,3.562,3.938,2.426,7.691,5.207,11.004,8.41,4.367,4.516,8.199,9.746,2.609,14.941-6.152,6.012-14.703,8.91-23.418,8.984-2.723,.055-4.621,.41-3.508,3.566,.93,2.5,3.938,3.297,5.824,5,1.309,1.117,3.625,2.836,3.512,4.832-.059,1.262-.293,2.5-.676,3.703-.508,1.438-1.543,2.855-.863,4.438,.281,.781,.793,1.574,1.609,1.895,.527,.207,1.145,.203,1.73,.199,.191,0,.375-.004,.559,.004,4.348,.59,7.77,4.504,9.293,8.312,1.32,3.945-.211,7.934-.742,11.828-.121,2.305,1.332,4.953,3.918,3.32,5.074-2.598,23.887-6.336,28.281-2.648,1.859,4.828-2.57,10.691,1.398,14.836,.223,.199,.449,.32,.68,.387,.148,.043,.293,.062,.438,.062,1.105,0,2.246-1.07,3.188-1.551,2.289-1.379,4.5-2.848,6.848-4.117,4.898-2.594,9.988-4.852,15.02-7.211,2.164-.957,4.34-1.965,6.688-2.422,.403-.07,.79-.151,1.156-.299-7.383,15.153-8.047,33.402-.956,49.041,1.492,3.41,2.961,6.902,5.133,9.977,.32,.422,.723,.785,1.199,1.062l-.145-.082c.203,.16,.418,.266,.641,.328,.203,.059,.414,.086,.625,.086,.488,0,.992-.137,1.449-.305,1.77-.844,4.109-.664,5.555-2.004,2.23-4.172-2.258-8.254-4.289-11.723-.906-1.457-1.598-2.375-2.555-3.934-5.316-7.453-7.094-16.551-7.168-25.41,1.547-4.758,3.043-9.535,4.578-14.301,.527-3.457,4.109-1.188,5.648,.355,6.723,8.16,12.277,17.348,16.691,26.957,1.309,1.984,2.176,7.129,4.875,7.332,.918-.105,1.215-1.055,1.426-1.805,.812-3.246,1.281-6.816,3.684-9.348,4.832-4.316,11.809,1.293,14.992,5.293,1.133,1.449,2.176,2.977,2.734,4.727,.223,1.168,.402,2.504,1.395,3.32,1.477,1.273,2.094-.699,2.105-1.844,.426-3.309,.961-6.676,2.613-9.625,4.137-6.98,8.496-1.113,11.074,3.602,.395,.438,.949,.793,1.516,.469,.305-.18,.418-.609,.473-.922,.504-3.562,1.832-7.523,5.234-9.355,4.188-1.656,8.914-2.051,13.445-1.781,2.848,.164,5.598,1.648,8.383,1.68,1.582-.688,1.184-3.008,.707-4.293-1.309-3.16-4.621-4.977-7.047-7.289-3.602-3.148-7.859-5.613-11.027-9.203-6.051-7.781-3.617-14.969,6.008-17.445,5.289-1.727,10.977-1.574,16.516-1.508,4.738,.012,9.66,.84,14.285-.285,2.344-.953,1.086-4.367-.289-5.762-3.922-3.34-9.066-5.152-7.871-11.207,.621-4.836,4.777-6.551,9.039-7.801,.969-.398,2.238-.832,2.328-2.023,.172-1.617-1.344-2.719-2.625-3.453-1.594-1.035-3.16-2.219-3.891-4-.422-5.184,5.152-9.406,8.805-12.52,1.91-1.324,3.383-2.555,1.801-4.848Zm-119.551,121.773c-.609,.191-1.207,.418-1.766,.707-.109,.043-.383,.148-.656,.266-5.156-9.074-9.434-19.211-7.184-29.688,1.664,9.836,5.199,19.621,9.605,28.715Zm111.801-98.367c-2.801,.469-5.965,.527-8.262,2.305-5.957,5.098-4.152,15.488,1.496,20.395-11.793-1.137-27.484-2.129-34.152,9.258-4.414,10.848,3.379,22.531,12.387,28.934-9.898-.133-17.527,.414-19.934,11.227-9.559-13.5-15.215-5.504-16.32,6.859-6.277-10.336-22.434-21.336-25.566-2.973-3.691-7.32-6.91-14.883-11.684-21.652-3.129-3.914-5.727-8.691-10.371-11.09-1.85-1.009-3.95-1.187-5.265,.17-.645-.797-1.512-1.484-2.478-1.866-3.195-.691-6.441,1.043-9.418,1.984-7.34,2.754-13.812,7.117-20.16,11.531,1.27-5.199,.449-11.406-3.727-15.312-7.008-5.676-22.855,2.043-29.672,5.621,2.016-6.938,1.453-14.875-3.707-20.562-2.125-2.406-5.215-4.84-8.656-4.414,1.469-4.648-.355-9.594-3.992-12.902,9.32,.148,19.621-3.566,23.418-12.348,4.867-10.953-8.484-24.09-17.035-30.078,2.848-.902,5.906-1.988,7.891-4.246,4.227-7.016-1.824-17.707-4.59-24.602,4.676-.469,11.344,.77,14.09-3.789,1.723-5.695,.035-11.91-1.109-17.633,6.938,7.848,12.445,13.34,21.301,4.094-.555,11.73,5.801,18.289,16.852,10.746-.285,11.016,4.449,22.992,18,18.508,2.785-1.234,3.703-4.363,4.703-6.945,2.727-8.461,.605-17.469-1.934-25.797,14.859,6.965,21.551,7.25,20.961-10.844,6.199,3.691,16.324,5.328,20.957-1.199,.362-.529,.707-1.07,1.038-1.621,.943,8.642,6.748,17.138,16.213,18.113-4.938,6.859-1.551,18.246,6.934,21.035-4.355,2.27-8.816,5.023-11.281,9.32-4.367,7.746-3.695,20.941,6.746,23.723,7.48,2.219,14.008-.824,17.633-7.293,1.648,12.512,12.887,17.031,20.84,6.172,.086,8.211,6.625,13.973,14.926,10.73-4.246,5.559-3.5,12.648,2.93,16.441Z" fill="#bd0a0a"/>
        <path d="M94.988,143.638c-.004,.012,.004,.016,.008,.02,1.898-7.859,4.609-15.512,6.668-23.34,2.305-8.438,3.676-17.012,6.93-25.18,4.047-8.77,8.57-17.34,11.348-26.617,1.797-6.02,4.48-12.578,6.078-18.789,2.121-7.078,1.18-14.781,3.145-21.793-1.883-1.438-1.809,2.758-2.188,3.902-.895,4.43-2.738,8.582-3.848,12.961-1.371,4.961-2.527,10.023-4.688,14.723-2.383,5.223-5.141,10.312-6.832,15.816-2.309,7.559-4.152,15.258-6.516,22.801-5.027,14.57-10.23,29.84-10.105,45.496Z" fill="#bd0a0a"/>
        <path d="M79.902,118.091c-4.691-8.824-11.625-16.199-17.199-24.473-3.691-5.895-6.555-12.328-10.156-18.34-3.988-6.473-6.688-13.531-9.406-20.582-.555-1.73-1.539-3.477-1.172-5.305-.363,.707-.133,1.754,0,2.609,1.234,7.609,5.137,14.395,8.184,21.434,4.809,11.195,12.043,21.156,17.859,31.855,4.945,8.305,10.891,16.027,15.629,24.445,2.695,4.973,4.844,10.289,7.051,15.492l.012,.008c-.473-4.832-1.355-9.734-3.438-14.219-2.121-4.48-4.926-8.605-7.363-12.926Z" fill="#bd0a0a"/>
        <path d="M122.265,137.911c9.102-3.781,16.629-10.035,25.191-14.691,5.625-2.617,11.617-4.707,17.5-6.742,5.734-2.312,11.395-4.797,17.449-6.305-16.367,1.059-23.75,3.188-37.562,11.746-4.906,2.691-10.352,4.32-15.293,6.941-3.152,1.621-5.914,3.805-8.797,5.816-5.02,3.293-10.805,5.391-15.695,8.902-3.125,2.395-7.191,3.535-10.102,6.113,.004,.008,.012,.012,.023,.016,.008,.004,.012,.004,.02,.004,.016,0,.031-.012,.008-.031,5.141-.977,10.051-2.961,14.914-4.793,4.387-1.863,8.16-4.766,12.344-6.977Z" fill="#bd0a0a"/>
        <path d="M75.217,143.831c-9.383-2.262-17.465-7.641-25.961-11.93-3.734-1.688-7.863-1.715-11.82-2.484-3.172-.883-6.422-.559-9.551,.113,2.48-.004,4.922,1.164,7.426,1.5,5.551,.543,10.699,2.746,16.012,4.32,5.93,1.93,11.387,5.641,17.262,7.801,.277,.094,.559,.18,.84,.262,3.133,.902,6.449,1.051,9.676,1.395-.621-.191-1.297-.344-1.977-.5-.641-.148-1.289-.301-1.906-.477Z" fill="#bd0a0a"/>
        <path d="M152.959,166.927c-2.941-.715-6.023-1.477-8.996-2.273-7.129-1.68-14.023-4.004-20.344-7.738-2.27-1.191-4.727-1.844-7.184-2.5-1.082-.289-2.16-.578-3.227-.906-1.199-.355-2.379-.852-3.625-1.035-.539-.039-1.105-.035-1.668-.031-.797,.008-1.59,.012-2.305-.098,1.367,.457,2.496,1.176,3.789,1.84,3.098,1.184,6.406,1.832,9.332,3.465,6.301,3.586,13.398,4.902,20.16,7.457,.246,.078,.496,.152,.742,.223,4.109,1.184,8.426,1.602,12.684,1.602,.215,0,.426,0,.641-.004Z" fill="#bd0a0a"/>
        <path d="M133.189,67.99c-2.258,1.395-4.41,2.965-6.781,4.191-2.418,1.332-5.438,1.828-7.324,3.875,.008,.008,.012,.016,.023,.016,.004,.004,.012,.004,.023,.004v-.008c.445,.098,.883,.141,1.316,.141,1.797,0,3.496-.742,5.129-1.484,5.871-2.59,11.129-6.148,15.867-10.363-2.684,1.121-5.672,2.152-8.254,3.629Z" fill="#bd0a0a"/>
        <path d="M127.426,55.669c2.18-.914,3.969-2.379,5.617-4.012,3.195-2.574,6.031-5.609,8.598-8.719-3.094,2.086-5.988,4.348-8.555,7.027-2.059,1.719-4.238,3.402-5.668,5.676,0,.008,0,.023,.008,.027Z" fill="#bd0a0a"/>
        <path d="M116.247,49.989h-.004l.008,.004c0,.008,0,.012,.004,.012h.004l.004-.004c.195-2.23-1.629-4.238-2.305-6.34-1.168-2.633-1.961-5.516-2.734-8.293,.676,4.895,1.465,10.773,5.02,14.617l.004,.004Z" fill="#bd0a0a"/>
        <path d="M108.317,72.716l.016,.008c.008,0,.012,.004,.02,.004,.027,0,.055-.016,.074-.039,.023-.023,.035-.055-.004-.055-.016-.004-.023-.008-.039-.012-.098-4.109-2.637-7.941-4.215-11.715-1.547-3.715-2.52-7.434-3.594-11.375,.688,7.027,2.852,14.051,6,20.512,.398,.969,.852,2.027,1.742,2.672Z" fill="#bd0a0a"/>
        <path d="M128.527,97.091c3.297-3.258,7.078-6.336,10.012-9.973-3.969,2.348-7.793,5.277-11.598,7.977-4.203,2.652-8.176,5.617-11.441,9.328-1.246,1.488-3.281,2.676-4.441,4.281-.078,.145-.367,.562-.184,.766,.008,.012,.023,.02,.047,.027,.031,.008,.066,.012,.102,.012,.062,0,.117-.012,.098-.039-.035-.016-.074-.031-.109-.051,2.629-.895,5-2.484,7.52-3.668,3.949-2.137,6.922-5.516,9.996-8.66Z" fill="#bd0a0a"/>
        <path d="M95.928,103.869c-2.406-5.629-3.895-11.688-6.367-17.344-2.219-5.887-3.434-12.059-5.176-18.07,1.004,12.316,4.859,24.699,11.539,35.414h.004Z" fill="#bd0a0a"/>
        <path d="M75.403,68.189c-3.473,9.523-5.375,19.75-7.434,29.727,2.469-4.176,4.645-9.164,5.539-14.105,.832-5.176,1.094-10.434,1.895-15.621Z" fill="#bd0a0a"/>
        <path d="M56.125,74.966c3.648-7.633,5.582-16.211,5.32-24.707-1.672,7.441-3.055,14.93-5.016,22.297-.035,.145-.434,2.379-.316,2.414l.012-.004Z" fill="#bd0a0a"/>
        <path d="M46.429,94.115c2.188,.633,4.406,1.133,6.684,1.191,1.098,.246,2.113,.531,3.215,.531,.191,0,.387-.008,.586-.027-1.949-1.344-4.465-1.758-6.703-2.625-2.715-.738-5.562-.754-8.293-1.391-3.402-.777-6.629-2.117-9.918-3.309,3.133,1.75,6.59,3.254,10.086,4.289,1.441,.445,2.887,.922,4.344,1.34Z" fill="#bd0a0a"/>
        <path d="M35.026,73.06c.598,.219,1.211,.422,1.836,.602,2.18,.629,4.488,.992,6.719,.992,.848,0,1.688-.051,2.504-.164-1.828-1.148-3.953-1.555-6.074-1.758-3.184-.234-6.41-1.145-9.383-1.988,.699,.41,1.402,.816,2.117,1.195,.746,.391,1.496,.82,2.281,1.121Z" fill="#bd0a0a"/>
        <path d="M45.729,54.599s.012,.004,.02,.004c.031,0,.066-.016,.086-.035,.031-.02,.035-.051-.031-.055,2.152-3.348,1.746-7.859,1.672-11.668-1.074,3.762-2.609,7.758-1.781,11.723,.008,.016,.02,.027,.035,.031Z" fill="#bd0a0a"/>
        <path d="M37.045,58.439l.012,.004c.012,0,.016-.004,.008-.023-4.523-3.074-9.414-5.637-14.836-6.77,4.504,2.93,9.602,4.887,14.676,6.727,.027,.008,.098,.051,.141,.062Z" fill="#bd0a0a"/>
        <path d="M33.557,146.99v-.004c5.781-2.535,12.098-4.465,16.77-8.766-5.965,1.922-11.543,5.305-16.781,8.734-.008,.004,0,.031,.012,.035Z" fill="#bd0a0a"/>
        <path d="M26.213,135.141c.098,.008,.199,.012,.297,.012,.898,0,1.875-.246,2.699-.605,.934-.383,1.543-1.297,2.391-1.746-1.98-.734-4.195,.863-5.387,2.34Z" fill="#bd0a0a"/>
        <path d="M34.619,114.846c2.844,4.074,6.559,7.652,9.961,11.34h.008c-1.363-2.145-7.727-12.07-9.969-11.34Z" fill="#bd0a0a"/>
        <path d="M29.393,123.595c.016,.004,.031,.008,.043,.008,.414,0-2.809-3.27-4.16-3.852,.527,.719,1.352,1.613,2.059,2.32,1.238,1.031,1.855,1.469,2.059,1.523Z" fill="#bd0a0a"/>
        <path d="M73.465,148.362c-4.434,1.055-8.188,3.863-11.875,6.328-.008,.004,0,.031,.012,.031v-.004c4.242-1.848,8.473-3.727,12.43-6.082,.293-.109,.594-.34,.895-.289-.004,.004,.027,.039,.023,.055l.004,.008c-.016-.418-1.113-.09-1.488-.047Z" fill="#bd0a0a"/>
        <path d="M118.291,161.132c1.965,5.039,4.707,9.605,6.871,14.715l.008,.008c-1.324-5.117-2.816-10.508-6.488-14.605-.109-.293-.527-.758-.391-.117Z" fill="#bd0a0a"/>
        <path d="M136.346,167.39c-.109-.133-.215-.449-.414-.422-.148,1.5,1.004,3.48,1.492,4.973,.984,2.391,2.016,4.789,3.219,7.145l.012,.008c-.629-4.141-1.711-8.414-4.469-11.77,.055,.016,.152,.113,.16,.066Z" fill="#bd0a0a"/>
        <path d="M151.383,170.47c-.074,.004-.105,.156-.062,.156,.016-.027,.004-.066,.035-.082,.016,.004,.035,.004,.051,.004,2.328,2.348,3.715,5.602,6.383,7.758-1.406-2.938-3.441-6.176-6.406-7.836Z" fill="#bd0a0a"/>
        <path d="M144.572,160.099c-.055,.082-.066,.207,.02,.277,.02,.012,.035,.02,.059,.023,.035,.012,.078,.016,.125,.016,.059,0,.121-.008,.172-.008-.016-.047-.09-.055-.168-.062-.066-.008-.129-.012-.168-.043-.004,0,0-.004-.008-.004,4.234-2.793,9.711-4.16,13.895-7.07-4.328,1.242-8.605,2.887-12.301,5.41-.586,.441-1.207,.863-1.625,1.461Z" fill="#bd0a0a"/>
        <path d="M123.074,153.044c.012,0,.016-.008,.004-.027,4.477-1.609,9.203-3.305,12.688-6.547-4.723,1.098-9.176,3.402-12.727,6.535,.004,.02,.016,.035,.027,.039h.008Z" fill="#bd0a0a"/>
        <path d="M155.914,122.362c5.133,1.465,10.281,3.617,15.457,5.242,.996,.355,2.016,.68,3.047,.977,3.621,1.043,7.395,1.758,10.98,2.363-5.617-2.207-11.289-4.254-17.09-5.949-3.867-1.121-8.809-2.992-12.395-2.633Z" fill="#bd0a0a"/>
        <path d="M185.67,115.896c.348,.125,.703,.238,1.059,.34,1.133,.328,2.301,.547,3.473,.684-2.543-1.57-5.676-3.035-8.691-3.051,1.359,.715,2.707,1.508,4.16,2.027Z" fill="#bd0a0a"/>
        <path d="M187.689,108.349c-.004,.012,.004,.023,.008,.023l.008-.004c.801-.953,2.414-1.141,3.574-1.684,2.793-1.039,5.613-2.352,8.117-3.824-3.75,1.129-7.523,2.402-10.789,4.531-.332,.246-.852,.52-.918,.957Z" fill="#bd0a0a"/>
        <path d="M180.584,106.81c1.688-2.824,2.938-6.449,3.547-10.059-1.934,2.875-3.508,6.461-3.547,10.059Z" fill="#bd0a0a"/>
        <path d="M156.066,113.201l-.004-.004h.004l-.008-.004v-.004s-.008-.008-.008-.016h.004l-.004-.02,.004,.004c5.203-7.133,7.668-15.691,9.688-24.172-2.75,7.504-6.469,14.922-9.215,22.52-.035,.062-.66,1.648-.484,1.699,.004,0,.016,0,.023-.004Z" fill="#bd0a0a"/>
      </g>
    </g>
  </g>
    </motion.svg>
  );
};

export default function MapleLeafBackground() {
  const [pcLeaves, setpcLeaves] = useState<LeafProps[]>([]);
  const [mobileLeaves, setMobileLeaves] = useState<LeafProps[]>([]);

  useEffect(() => {
    setpcLeaves(
      new Array(35).fill(0).map(() => ({
        delay: Math.random() * 5,
        xStart: Math.random() * 100,
        xDrift: (Math.random() - 0.5) * 20,
        duration: 10 + Math.random() * 10,
        size: `${20 + Math.random() * 40}px`,
        rotateSpeed: Math.random() * 2,
      }))
    );
    setMobileLeaves(
      new Array(10).fill(2).map(() => ({
        delay: Math.random() * 2,
        xStart: Math.random() * 100,
        xDrift: (Math.random() - 0.5) * 20,
        duration: 10 + Math.random() * 2,
        size: `${20 + Math.random() * 40}px`,
        rotateSpeed: Math.random() * 2,
      }))
    );

  }, []);

  return (
    <>    
    <div style={{ overflow: "hidden" }} className="overflow-hidden hidden md:block">
      {pcLeaves.map((leaf, i) => (
        <Leaf key={i} {...leaf} />
      ))}
    </div>
    <div style={{ overflow: "hidden" }} className="overflow-hidden block md:hidden">
      {mobileLeaves.map((leaf, i) => (
        <Leaf key={i} {...leaf} />
      ))}
    </div>
    </>
  );
}
